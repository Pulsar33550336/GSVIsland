<ci:SpeechProviderControlBase x:Class="GSVIsland.Controls.SpeechProviderSettingsControls.GSVISpeechServiceSettingsControl"
                              xmlns="https://github.com/avaloniaui"
                              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                              xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                              xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                              xmlns:local="clr-namespace:GSVIsland.Controls.SpeechProviderSettingsControls"
                              xmlns:ci="http://classisland.tech/schemas/xaml/core"
                              xmlns:controls="clr-namespace:FluentAvalonia.UI.Controls;assembly=FluentAvalonia"
                              mc:Ignorable="d" 
                              d:DesignHeight="450" d:DesignWidth="800">
    <StackPanel DataContext="{Binding}" 
                Spacing="1">

        <!-- 服务器地址 -->
        <controls:SettingsExpanderItem Content="服务器地址">
            <controls:SettingsExpanderItem.Footer>
                <TextBox
                    Text="{Binding Settings.GSVIServerUrl, Mode=TwoWay}"
                    Width="200"/>
            </controls:SettingsExpanderItem.Footer>
        </controls:SettingsExpanderItem>

        <!-- 访问令牌 -->
        <controls:SettingsExpanderItem Content="访问令牌">
            <controls:SettingsExpanderItem.Footer>
                <TextBox
                    PasswordChar="*"
                    Text="{Binding Settings.AccessToken, Mode=TwoWay}"
                    Width="200"
                    TextChanged="PasswordChangedHandler"/>
            </controls:SettingsExpanderItem.Footer>
        </controls:SettingsExpanderItem>

        <!-- 模型名称 -->
        <controls:SettingsExpanderItem Content="模型名称">
            <controls:SettingsExpanderItem.Footer>
                <TextBox
                    Text="{Binding Settings.ModelName, Mode=TwoWay}"
                    Width="200"/>
            </controls:SettingsExpanderItem.Footer>
        </controls:SettingsExpanderItem>

        <!-- 情感 -->
        <controls:SettingsExpanderItem Content="情感">
            <controls:SettingsExpanderItem.Footer>
                <TextBox
                    Text="{Binding Settings.Emotion, Mode=TwoWay}"
                    Width="200"/>
            </controls:SettingsExpanderItem.Footer>
        </controls:SettingsExpanderItem>

        <!-- 文本语言 -->
        <controls:SettingsExpanderItem Content="文本语言">
            <controls:SettingsExpanderItem.Footer>
                <TextBox
                    Text="{Binding Settings.TextLang, Mode=TwoWay}"
                    Width="200"/>
            </controls:SettingsExpanderItem.Footer>
        </controls:SettingsExpanderItem>

        <!-- 提示文本语言 -->
        <controls:SettingsExpanderItem Content="提示文本语言">
            <controls:SettingsExpanderItem.Footer>
                <TextBox
                    Text="{Binding Settings.PromptTextLang, Mode=TwoWay}"
                    Width="200"/>
            </controls:SettingsExpanderItem.Footer>
        </controls:SettingsExpanderItem>

        <controls:SettingsExpander Header="高级选项"
                                   Description="如果您不清楚这些设置的作用，请不要修改这些设置。"
                                   Classes="no-radius">
            <controls:SettingsExpander.Styles>
                <Style Selector="controls|SettingsExpander /template/ Expander#Expander">
                    <Setter Property="Padding" Value="-1"/>
                </Style>
            </controls:SettingsExpander.Styles>
            
            <!-- Top K -->
            <controls:SettingsExpanderItem Content="Top K">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.TopK, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>

            <!-- Top P -->
            <controls:SettingsExpanderItem Content="Top P">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.TopP, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>

            <!-- Temperature -->
            <controls:SettingsExpanderItem Content="Temperature">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.Temperature, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>

            <!-- 重复惩罚 -->
            <controls:SettingsExpanderItem Content="重复惩罚">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.RepetitionPenalty, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>

            <!-- 语速因子 -->
            <controls:SettingsExpanderItem Content="语速因子">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.SpeedFactor, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>

            <!-- 采样步数 -->
            <controls:SettingsExpanderItem Content="采样步数">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.SampleSteps, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>

            <!-- 随机种子 -->
            <controls:SettingsExpanderItem Classes="no-radius" Content="随机种子">
                <controls:SettingsExpanderItem.Footer>
                    <TextBox
                        Text="{Binding Settings.Seed, Mode=TwoWay}"
                        Width="100"/>
                </controls:SettingsExpanderItem.Footer>
            </controls:SettingsExpanderItem>
        </controls:SettingsExpander>
    </StackPanel>
</ci:SpeechProviderControlBase>